<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
    <head th:replace="layout :: site-head(~{::title}, ~{::link})">
        <title th:text="#{title.registration}">Registration</title>
    </head>
    <body>
        <div class="container">
            <div class="row">
                <div th:replace="layout :: site-header" />

                <div class="col-xs-12 col-sm-12 col-md-12">
                    <div class="form-wrap col-xs-12 col-sm-8 col-md-6 col-sm-offset-2 col-md-offset-3">

                        <!--Info start-->
                        <div th:replace="layout :: site-messages" />
                        <!--Info end-->

                        <h4 class="col-xs-12 col-sm-12  col-md-12 site-title"
                            th:text="#{label.form.loginSignUp}">Registration</h4>
                        <div id="hidden-errors"
                             class="rs-errors rs-notif mBottom col-xs-12 col-sm-12 col-md-12">
                            <i class="fa fa-exclamation-circle" aria-hidden="true"></i>
                            <ul class="col-xs-12 col-sm-12 col-md-12">
                            </ul>
                        </div>
                        <form action="/"
                              method="POST"
                              enctype="utf8"
                              name="f"
                              class="reg_sys centerText col-xs-12 col-sm-12 col-md-12">
                            <div class="pRight pRight768remove mBottom col-xs-12 col-sm-6 col-md-6">
                                <input name="firstName"
                                       class="col-xs-12 col-sm-12 col-md-12"
                                       type="text"
                                       th:placeholder="#{label.user.firstName}"
                                       placeholder="Имя"/>
                            </div>
                            <div class="mBottom col-xs-12 col-sm-6 col-md-6">
                                <input  name="lastName"
                                        class="col-xs-12 col-sm-12 col-md-12"
                                        type="text"
                                        th:placeholder="#{label.user.lastName}"
                                        placeholder="Фамилия"/>
                            </div>
                            <div class="mBottom col-xs-12 col-sm-12 col-md-12" >
                                <input name="email"
                                       class="col-xs-12 col-sm-12  col-md-12"
                                       type="email"
                                       th:placeholder="#{label.user.email}"
                                       placeholder="Email"/>
                            </div>
                            <div class="mBottom col-xs-12 col-sm-12  col-md-12" >
                                <input  name="password"
                                        class="col-xs-12 col-sm-12  col-md-12"
                                        type="password"
                                        th:placeholder="#{label.user.password}"
                                        placeholder="Пароль"/>
                            </div>
                            <div class="mBottom col-xs-12 col-sm-12  col-md-12" >
                                <input name="matchingPassword"
                                       class="col-xs-12 col-sm-12  col-md-12"
                                       type="password"
                                       th:placeholder="#{label.user.confirmPass}"
                                       placeholder="Повторите пароль"/>
                            </div>
                            <div class="pRight pRight768remove mBottom col-xs-12 col-sm-6 col-md-6">
                                <a href="#"
                                   onclick="validate()"
                                   class="rs-button col-xs-12 col-sm-12 col-md-12"
                                   th:text="#{label.form.loginSignUp}">Sign up</a>
                            </div>
                            <a th:href="@{/login}"
                               class="rs-button col-xs-12 col-sm-6 col-md-6"
                               th:text="#{label.pages.haveAccount}">Already have an account?</a>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <footer th:replace="layout :: site-footer" />

        <script src="../static/js/error_generator.js"
                th:src="@{/js/error_generator.js}"
                type="text/javascript">
        </script>
        <script src="../static/js/registration.js"
                th:src="@{/js/registration.js}"
                type="text/javascript">
        </script>
        <script src="../static/js/registration_validation.js"
                th:src="@{/js/registration_validation.js}"
                type="text/javascript">
        </script>


        <script th:inline="javascript">
            /*<![CDATA[*/
            function validate() {
                var messagesObj = {
                    invalidFirstName: /*[[#{message.firstname}]]*/ 'Введите имя',
                    invalidLastName: /*[[#{message.lastname}]]*/ 'Введите фамилию',
                    invalidEmail: /*[[#{message.email}]]*/ 'Введите email',
                    invalidPass: /*[[#{message.password}]]*/ 'Введите пароль',
                    invalidMatchingPass: /*[[#{NotNull.user.matchingPassword}]]*/ 'Повторите пароль',
                    passwordsDoNotMatch: /*[[#{PasswordMatches.user}]]*/ 'Пароли не совпадают'
                };

                var result = validateRegistration(messagesObj);
                if (result) {
                    register();
                }
                return result;
            }

            /*]]>*/
        </script>
    </body>
</html>
